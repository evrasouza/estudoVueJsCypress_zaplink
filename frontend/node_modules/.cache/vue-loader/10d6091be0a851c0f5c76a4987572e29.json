{"remainingRequest":"C:\\qaninja\\devtester\\zaplink\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\qaninja\\devtester\\zaplink\\frontend\\src\\views\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\qaninja\\devtester\\zaplink\\frontend\\src\\views\\Dashboard.vue","mtime":1607539502000},{"path":"C:\\qaninja\\devtester\\zaplink\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606125000373},{"path":"C:\\qaninja\\devtester\\zaplink\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1606125002655},{"path":"C:\\qaninja\\devtester\\zaplink\\frontend\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1607042437400},{"path":"C:\\qaninja\\devtester\\zaplink\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606125000373},{"path":"C:\\qaninja\\devtester\\zaplink\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1606125021958}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZiYXIgZnJvbSAnQC9jb21wb25lbnRzL05hdmJhci52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRhc2hib2FyZCIsCiAgY29tcG9uZW50czogewogICAgTmF2YmFyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgY29udGFjdExpc3Q6IFtdLAogICAgICBzaG93Q29udGFjdEFkZE1vZGFsOiBmYWxzZSwKICAgICAgZXJyb3JOYW1lOiBmYWxzZSwKICAgICAgZXJyb3JOdW1iZXI6IGZhbHNlLAogICAgICBlcnJvckRlc2NyaXB0aW9uOiBmYWxzZSwKICAgICAgc2VhcmNoSW5wdXQ6ICIiLAogICAgICBmb3JtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgbnVtYmVyOiAiIiwKICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgemFwTGluayhudW1iZXIpIHsKICAgICAgcmV0dXJuIGBodHRwczovL2FwaS53aGF0c2FwcC5jb20vc2VuZD9waG9uZT01NSR7bnVtYmVyfWAKICAgIH0sCiAgICBzZWFyY2goKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMuc2VhcmNoSW5wdXQgIT0gIiIpIHsKICAgICAgICB0aGlzLmNvbnRhY3RMaXN0ID0gdGhpcy5jb250YWN0TGlzdC5maWx0ZXIoCiAgICAgICAgICAoY29udGFjdCkgPT4gY29udGFjdC5udW1iZXIgPT09IHRoaXMuc2VhcmNoSW5wdXQKICAgICAgICApOwogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5saXN0KCk7CiAgICAgIH0KICAgICAgY29uc29sZS5sb2codGhpcy5jb250YWN0TGlzdCkKICAgIH0sCiAgICBjcmVhdGUoKSB7CiAgICAgIHRoaXMuZXJyb3JOYW1lID0gZmFsc2U7CiAgICAgIHRoaXMuZXJyb3JOdW1iZXIgPSBmYWxzZTsKICAgICAgdGhpcy5lcnJvckRlc2NyaXB0aW9uID0gZmFsc2U7CgogICAgICBpZiAodGhpcy5mb3JtLm5hbWUgPT0gIiIpIHsKICAgICAgICB0aGlzLmVycm9yTmFtZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZvcm0ubnVtYmVyID09ICIiKSB7CiAgICAgICAgdGhpcy5lcnJvck51bWJlciA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZvcm0uZGVzY3JpcHRpb24gPT0gIiIpIHsKICAgICAgICB0aGlzLmVycm9yRGVzY3JpcHRpb24gPSB0cnVlOwogICAgICB9CgogICAgICBpZiAoCiAgICAgICAgdGhpcy5lcnJvck5hbWUgPT09IGZhbHNlICYmCiAgICAgICAgdGhpcy5lcnJvck51bWJlciA9PT0gZmFsc2UgJiYKICAgICAgICB0aGlzLmVycm9yRGVzY3JpcHRpb24gPT09IGZhbHNlCiAgICAgICkgewogICAgICAgIHdpbmRvdy5heGlvcy5wb3N0KCIvY29udGFjdHMiLCB0aGlzLmZvcm0pLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgYXdhaXQgcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnNob3dDb250YWN0QWRkTW9kYWwgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubGlzdCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlKGNvbnRhY3RJZCkgewogICAgICB3aW5kb3cuYXhpb3MuZGVsZXRlKCcvY29udGFjdHMvJyArIGNvbnRhY3RJZCkudGhlbihhc3luYyhyZXMpID0+IHsKICAgICAgICBhd2FpdCByZXMuZGF0YQogICAgICAgIHRoaXMubGlzdCgpCiAgICAgIH0pCiAgICB9LAogICAgbGlzdCgpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICB3aW5kb3cuYXhpb3MuZ2V0KCIvY29udGFjdHMiKS50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICB0aGlzLmNvbnRhY3RMaXN0ID0gYXdhaXQgcmVzLmRhdGE7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubGlzdCgpOwogIH0sCn07Cg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <Navbar />\n    <div class=\"container\">\n      <!-- Main container -->\n      <nav class=\"level\">\n        <!-- Left side -->\n        <div class=\"level-left\">\n          <div class=\"level-item\">\n            <h4 class=\"title is-4\">Seu gerenciador digital de contatos</h4>\n          </div>\n        </div>\n\n        <!-- Right side -->\n        <div class=\"level-right\">\n          <div class=\"level-item\">\n            <button\n              id=\"addNewContact\"\n              class=\"button is-success\"\n              @click=\"showContactAddModal = true\"\n            >\n              +\n            </button>\n          </div>\n\n          <div class=\"level-item\">\n            <div class=\"field has-addons\">\n              <p class=\"control\">\n                <input\n                  class=\"input\"\n                  type=\"text\"\n                  v-model=\"searchInput\"\n                  placeholder=\"Número do Whats\"\n                />\n              </p>\n              <p class=\"control\">\n                <button class=\"button is-primary\" @click=\"search\">\n                  Buscar\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <div id=\"loader\" v-if=\"isLoading === true\">\n        <img src=\"../assets/loading.gif\" alt=\"Loader\" />\n      </div>\n\n      <article class=\"message is-danger\" v-if=\"contactList.length === 0\">\n        <div class=\"message-body\">\n         Contato não encontrado :(\n        </div>\n      </article>\n\n      <div class=\"contact-list columns is-multiline\" v-if=\"isLoading === false\">\n        <div\n          class=\"column is-4\"\n          v-for=\"contact in contactList\"\n          :key=\"contact._id\"\n        >\n          <div class=\"card\">\n            <div class=\"card-content\">\n              <div class=\"media\">\n                <div class=\"media-left\">\n                  <figure class=\"image is-48x48\">\n                    <img src=\"../assets/whatsapp.svg\" alt=\"Logo Whatsapp\" />\n                  </figure>\n                </div>\n                <div class=\"media-content\">\n                  <p class=\"title is-4\">{{ contact.name }}</p>\n                  <p class=\"subtitle is-6\">{{ contact.number }}</p>\n                </div>\n              </div>\n\n              <div class=\"content\">\n                {{ contact.description }}\n              </div>\n            </div>\n\n            <footer class=\"card-footer\">\n              <a :href=\"zapLink(contact.number)\" class=\"card-footer-item\">Conversar</a>\n              <a href=\"#\" class=\"card-footer-item btn-remove\" @click=\"remove(contact._id)\">Apagar</a>\n            </footer>\n          </div>\n        </div>\n      </div>\n\n      <b-modal\n        v-model=\"showContactAddModal\"\n        has-modal-card\n        trap-focus\n        :destroy-on-hide=\"false\"\n        aria-role=\"dialog\"\n        aria-modal\n      >\n        <form action=\"\">\n          <div class=\"modal-card\" style=\"width: 450px\">\n            <header class=\"modal-card-head\">\n              <p class=\"modal-card-title\">Login</p>\n              <button\n                type=\"button\"\n                class=\"delete\"\n                @click=\"showContactAddModal = false\"\n              />\n            </header>\n            <section class=\"modal-card-body\">\n              <div class=\"field input-name\">\n                <input\n                  class=\"input is-primary\"\n                  v-model=\"form.name\"\n                  placeholder=\"Nome Completo\"\n                />\n                <small class=\"has-text-danger\" v-if=\"errorName === true\"\n                  >Nome é Obrigatório</small\n                >\n              </div>\n              <div class=\"field input-number\">\n                <input\n                  class=\"input is-primary\"\n                  v-model=\"form.number\"\n                  placeholder=\"Whatsapp\"\n                />\n                <small class=\"has-text-danger\" v-if=\"errorNumber === true\"\n                  >Whatsapp é Obrigatório</small\n                >\n              </div>\n              <div class=\"field text-description\">\n                <textarea\n                  class=\"textarea is-primary\"\n                  v-model=\"form.description\"\n                  placeholder=\"Assunto\"\n                ></textarea>\n                <small class=\"has-text-danger\" v-if=\"errorDescription === true\"\n                  >Assunto é Obrigatório</small\n                >\n              </div>\n            </section>\n            <footer class=\"modal-card-foot\">\n              <button\n                id=\"saveButton\"\n                type=\"button\"\n                class=\"button is-success\"\n                @click=\"create\"\n              >\n                Cadastrar\n              </button>\n            </footer>\n          </div>\n        </form>\n      </b-modal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue'\n\nexport default {\n  name: \"Dashboard\",\n  components: {\n    Navbar\n  },\n  data() {\n    return {\n      isLoading: false,\n      contactList: [],\n      showContactAddModal: false,\n      errorName: false,\n      errorNumber: false,\n      errorDescription: false,\n      searchInput: \"\",\n      form: {\n        name: \"\",\n        number: \"\",\n        description: \"\",\n      },\n    };\n  },\n  methods: {\n    zapLink(number) {\n      return `https://api.whatsapp.com/send?phone=55${number}`\n    },\n    search() {\n      this.isLoading = true;\n      if (this.searchInput != \"\") {\n        this.contactList = this.contactList.filter(\n          (contact) => contact.number === this.searchInput\n        );\n        this.isLoading = false;\n      } else {\n        this.list();\n      }\n      console.log(this.contactList)\n    },\n    create() {\n      this.errorName = false;\n      this.errorNumber = false;\n      this.errorDescription = false;\n\n      if (this.form.name == \"\") {\n        this.errorName = true;\n      }\n\n      if (this.form.number == \"\") {\n        this.errorNumber = true;\n      }\n\n      if (this.form.description == \"\") {\n        this.errorDescription = true;\n      }\n\n      if (\n        this.errorName === false &&\n        this.errorNumber === false &&\n        this.errorDescription === false\n      ) {\n        window.axios.post(\"/contacts\", this.form).then(async (res) => {\n          await res.data;\n          this.showContactAddModal = false;\n          this.list();\n        });\n      }\n    },\n    remove(contactId) {\n      window.axios.delete('/contacts/' + contactId).then(async(res) => {\n        await res.data\n        this.list()\n      })\n    },\n    list() {\n      this.isLoading = true;\n      window.axios.get(\"/contacts\").then(async (res) => {\n        this.contactList = await res.data;\n        this.isLoading = false;\n      });\n    },\n  },\n  mounted() {\n    this.list();\n  },\n};\n</script>\n"]}]}